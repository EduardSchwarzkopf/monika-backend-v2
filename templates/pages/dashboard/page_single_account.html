{% extends "layouts/dashboard.html" %}
{% import 'macros/buttons.html' as btn %}

{% block content %}

<div class="bg-white border shadow">
    Income: {{ income }}
</div>
<div class="bg-white border shadow">
    Expenses: {{ expenses }}
</div>
<div class="flex flex-col sm:flex-row sm:flex-wrap sm:space-x-6 mb-12">
    <div class="grow">
        <div class="flex flex-row space-x-4 items-center">
            <p class="text-xl text-gray">{{account.label}}</p>
            {{ btn.edit(url_for('page_update_account_form', account_id=account.id)) }}
        </div>

        <p class="text-3xl">
            {{ account.balance }}
        </p>
    </div>
    <div class="flex-none">
        {% include'fragments/datePicker.html' %}
    </div>
</div>

<div class="my-6">
    <a href="{{ url_for('page_create_transaction_form', account_id=account.id)}}">
        {{ btn.button("Create Transaction")}}
    </a>
</div>
<div id="transactions">
    {% for group in transaction_list_grouped %}
    <div class="mt-6">
        <span class="pb-4 text-gray font-bold text-lg ">{{ group.date.strftime('%A - %d %B') }}</span>
        <div class="grid gap-3">
            {% for transaction in group.transactions %}
            <a href="{{ url_for('page_update_transaction', account_id=account.id, transaction_id=transaction.id)}}">
                {% include 'fragments/accounts/transaction.html' %} {% endfor %}
            </a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}